<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>منصة طلاب المرحلة الثانية هندسة تقنيات الأمن السيبراني | Second Year Cybersecurity Engineering Platform</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/styles.css?v=2.7">
    <link rel="stylesheet" href="assets/css/animations.css?v=2.7">
</head>
<body>
    <header>
        <div class="header-logo">
            <img src="assets/images/almustafa-logo.jpg" alt="شعار جامعة المصطفى | Almustafa University Logo" class="university-logo">
        </div>
        <h1>منصة طلاب المرحلة الثانية هندسة تقنيات الأمن السيبراني</h1>
        <h2 class="english-title">Second Year Cybersecurity Engineering Technology Platform</h2>
        <p class="institution">جامعة المصطفى</p>
        <p class="institution english-subtitle">Almustafa University</p>
        <div class="header-announcement">
            <p>⚠️ امتحان مادة مبادئ لينكس يوم الأحد الساعة 8:30 صباحاً - 2/11/2025 - امتحان عملي في المختبر</p>
            <p class="english-subtitle">Linux Principles Exam: Sunday, 8:30 AM - November 2, 2025 - Practical Lab Exam</p>
        </div>
    </header>

    <main>
        <!-- Status Banner -->
        <div id="statusBanner" class="status-banner" style="display: none;"></div>

        <!-- Login Section -->
        <section id="loginSection" class="section">
            <div class="card">
                <h2>تسجيل دخول الطالب</h2>
                <p class="english-subtitle">Student Login</p>
                <form id="loginForm">
                    <div class="form-group">
                        <label for="studentId">رقم الطالب الجامعي</label>
                        <label class="english-label">Student ID</label>
                        <input type="text" id="studentId" required placeholder="أدخل رقم الطالب (مثال: LX001) | Enter Student ID">
                    </div>
                    <div class="form-group">
                        <label for="studentPassword">كلمة المرور</label>
                        <label class="english-label">Password</label>
                        <input type="password" id="studentPassword" required placeholder="أدخل كلمة المرور | Enter Password">
                    </div>
                    <button type="submit" class="btn primary">دخول | Login</button>
                    <div id="loginFeedback" class="feedback"></div>
                </form>
            </div>
        </section>

        <!-- Doctor Dashboard -->
        <section id="doctorDashboard" class="section hidden">
            <div class="card dashboard-header">
                <div class="student-welcome">
                    <div class="welcome-badge">
                        <div class="badge-icon">👨‍⚕️</div>
                        <div class="badge-info">
                            <h2>لوحة تحكم الأستاذ الدكتور</h2>
                            <p class="english-subtitle">Professor Dashboard</p>
                            <p class="student-id-display">
                                <span class="id-label">د. حسام صالح مهدي | Dr. Husam Salah Mahdi</span>
                            </p>
                        </div>
                    </div>
                </div>
                <div class="header-actions">
                    <button id="refreshMonitor" class="btn secondary">
                        <span>🔄 تحديث</span>
                        <span class="english-label">Refresh</span>
                    </button>
                    <button id="doctorLogout" class="btn outline">
                        <span>تسجيل الخروج</span>
                        <span class="english-label">Logout</span>
                    </button>
                </div>
            </div>

            <!-- Monitoring Stats -->
            <div class="quick-stats">
                <div class="stat-card">
                    <div class="stat-icon">🟢</div>
                    <div class="stat-info">
                        <h4>طلاب متصلون الآن</h4>
                        <p class="stat-number" id="onlineCount">0</p>
                        <p class="english-subtitle">Students Online</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">📝</div>
                    <div class="stat-info">
                        <h4>يقومون بالامتحان</h4>
                        <p class="stat-number" id="examingCount">0</p>
                        <p class="english-subtitle">Taking Exam</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">✅</div>
                    <div class="stat-info">
                        <h4>أنهوا الامتحان</h4>
                        <p class="stat-number" id="completedCount">0</p>
                        <p class="english-subtitle">Completed</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">👥</div>
                    <div class="stat-info">
                        <h4>إجمالي الطلاب</h4>
                        <p class="stat-number" id="totalStudents">0</p>
                        <p class="english-subtitle">Total Students</p>
                    </div>
                </div>
            </div>

            <!-- Monitoring Tabs -->
            <div class="card">
                <div class="monitor-tabs">
                    <button class="tab-btn active" data-tab="online">
                        🟢 الطلاب المتصلون | Online Students
                    </button>
                    <button class="tab-btn" data-tab="activity">
                        📊 النشاط الأخير | Recent Activity
                    </button>
                    <button class="tab-btn" data-tab="results">
                        📈 النتائج | Results
                    </button>
                    <button class="tab-btn" data-tab="examined">
                        📝 الممتحنون | Examined
                    </button>
                </div>

                <!-- Online Students Tab -->
                <div id="onlineTab" class="tab-content active">
                    <h3>الطلاب المتصلون الآن</h3>
                    <p class="english-subtitle">Currently Online Students</p>
                    <div id="onlineStudentsList" class="students-list">
                        <p class="no-data">لا يوجد طلاب متصلون حالياً | No students online</p>
                    </div>
                </div>

                <!-- Activity Tab -->
                <div id="activityTab" class="tab-content">
                    <h3>سجل النشاط</h3>
                    <p class="english-subtitle">Activity Log</p>
                    <div id="activityLog" class="activity-list">
                        <p class="no-data">لا توجد أنشطة حالياً | No activities yet</p>
                    </div>
                </div>

                <!-- Results Tab -->
                <div id="resultsTab" class="tab-content">
                    <h3>نتائج الامتحانات</h3>
                    <p class="english-subtitle">Exam Results</p>
                    <div id="resultsList" class="results-list">
                        <p class="no-data">لا توجد نتائج حالياً | No results yet</p>
                    </div>
                </div>

                <!-- Examined Students Tab -->
                <div id="examinedTab" class="tab-content">
                    <h3>📝 الطلاب الذين أجروا الامتحان</h3>
                    <p class="english-subtitle">Examined Students</p>
                    
                    <div class="examined-filters">
                        <button onclick="filterExamined('all')" class="filter-btn active" data-filter="all">
                            الكل | All
                        </button>
                        <button onclick="filterExamined('today')" class="filter-btn" data-filter="today">
                            اليوم | Today
                        </button>
                        <button onclick="filterExamined('week')" class="filter-btn" data-filter="week">
                            هذا الأسبوع | This Week
                        </button>
                    </div>

                    <div class="examined-stats">
                        <div class="stat-card">
                            <h4>إجمالي الممتحنين</h4>
                            <p id="totalExamined" class="stat-number">0</p>
                            <p class="english-subtitle">Total Examined</p>
                        </div>
                        <div class="stat-card">
                            <h4>المتوسط العام</h4>
                            <p id="averageScore" class="stat-number">0%</p>
                            <p class="english-subtitle">Average Score</p>
                        </div>
                        <div class="stat-card">
                            <h4>أعلى درجة</h4>
                            <p id="highestScore" class="stat-number">0</p>
                            <p class="english-subtitle">Highest Score</p>
                        </div>
                        <div class="stat-card">
                            <h4>أقل درجة</h4>
                            <p id="lowestScore" class="stat-number">0</p>
                            <p class="english-subtitle">Lowest Score</p>
                        </div>
                    </div>

                    <div id="examinedList" class="examined-list">
                        <p class="no-data">لا توجد امتحانات | No exams yet</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Student Dashboard -->
        <section id="dashboardSection" class="section hidden">
            <div class="card dashboard-header">
                <div class="student-welcome">
                    <div class="welcome-badge">
                        <div class="badge-icon">👤</div>
                        <div class="badge-info">
                            <h2>مرحباً، <span id="dashboardName"></span></h2>
                            <p class="english-subtitle">Welcome, <span id="dashboardNameEn"></span></p>
                            <p class="student-id-display">
                                <span class="id-label">رقم الطالب | Student ID:</span>
                                <span id="dashboardId" class="id-value"></span>
                            </p>
                        </div>
                    </div>
                </div>
                <div class="header-actions">
                    <button id="showQRBtn" class="btn secondary">
                        <span>📱 رمز QR الخاص بي</span>
                        <span class="english-label">My QR Code</span>
                    </button>
                    <button id="logoutBtn" class="btn outline">
                        <span>تسجيل الخروج</span>
                        <span class="english-label">Logout</span>
                    </button>
                </div>
            </div>

            <!-- Quick Stats -->
            <div class="quick-stats">
                <div class="stat-card">
                    <div class="stat-icon">📝</div>
                    <div class="stat-info">
                        <h4>الامتحانات المتاحة</h4>
                        <p class="stat-number">1</p>
                        <p class="english-subtitle">Available Exams</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">📚</div>
                    <div class="stat-info">
                        <h4>المواد الدراسية</h4>
                        <p class="stat-number">3</p>
                        <p class="english-subtitle">Course Materials</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">📊</div>
                    <div class="stat-info">
                        <h4>التقارير المحفوظة</h4>
                        <p class="stat-number" id="savedReportsCount">0</p>
                        <p class="english-subtitle">Saved Reports</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">📢</div>
                    <div class="stat-info">
                        <h4>إعلانات جديدة</h4>
                        <p class="stat-number">2</p>
                        <p class="english-subtitle">New Announcements</p>
                    </div>
                </div>
            </div>

            <div class="dashboard-grid">
                <!-- Available Exams -->
                <div class="card dashboard-card">
                    <div class="card-icon">📝</div>
                    <h3>الامتحانات المتاحة</h3>
                    <p class="english-subtitle">Available Exams</p>
                    <div id="examsList" class="resource-list">
                        <div class="resource-item">
                            <div class="resource-info">
                                <h4>امتحان أنظمة تشغيل لينكس</h4>
                                <p class="english-subtitle">Linux Operating System Exam</p>
                                <p class="resource-meta">29 سؤال • MCQ & True/False | 29 Questions</p>
                            </div>
                            <button class="btn primary" onclick="startExam()">ابدأ الامتحان | Start Exam</button>
                        </div>
                    </div>
                </div>

                <!-- Assignments -->
                <div class="card dashboard-card">
                    <div class="card-icon">📚</div>
                    <h3>الواجبات والتكليفات</h3>
                    <p class="english-subtitle">Assignments</p>
                    <div id="assignmentsList" class="resource-list">
                        <div class="resource-item">
                            <div class="resource-info">
                                <h4>لا توجد واجبات حالياً</h4>
                                <p class="english-subtitle">No assignments at this time</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Announcements -->
                <div class="card dashboard-card">
                    <div class="card-icon">📢</div>
                    <h3>الإعلانات والتنبيهات</h3>
                    <p class="english-subtitle">Announcements</p>
                    <div id="announcementsList" class="resource-list">
                        <div class="resource-item urgent-announcement">
                            <div class="resource-info">
                                <p><strong>⚠️ تنبيه هام: موعد الامتحان</strong></p>
                                <p class="english-subtitle"><strong>⚠️ Important: Exam Schedule</strong></p>
                                <p>امتحان مادة مبادئ لينكس يوم الأحد الساعة 8:30 صباحاً</p>
                                <p class="english-subtitle">Linux Principles Exam: Sunday, 8:30 AM</p>
                                <p class="resource-meta">📅 التاريخ: 2/11/2025 | Date: November 2, 2025</p>
                                <p class="resource-meta">د. حسام صالح مهدي | Dr. Husam Salah Mahdi</p>
                            </div>
                        </div>
                        <div class="resource-item">
                            <div class="resource-info">
                                <p><strong>مرحباً بك في منصة التعليم الإلكتروني</strong></p>
                                <p class="english-subtitle">Welcome to the E-Learning Platform</p>
                                <p class="resource-meta">د. حسام صالح مهدي | Dr. Husam Salah Mahdi</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Course Materials -->
                <div class="card dashboard-card">
                    <div class="card-icon">📖</div>
                    <h3>المواد الدراسية</h3>
                    <p class="english-subtitle">Course Materials</p>
                    <div id="materialsList" class="resource-list">
                        <div class="resource-item">
                            <div class="resource-info">
                                <h4>محاضرات لينكس</h4>
                                <p class="english-subtitle">Linux Lectures</p>
                            </div>
                            <a href="L1.pdf" target="_blank" class="btn secondary">المحاضرة 1 | Lecture 1</a>
                        </div>
                        <div class="resource-item">
                            <div class="resource-info">
                                <h4>محاضرات إضافية</h4>
                                <p class="english-subtitle">Additional Lectures</p>
                            </div>
                            <a href="L2.pdf" target="_blank" class="btn secondary">المحاضرة 2 | Lecture 2</a>
                        </div>
                        <div class="resource-item">
                            <div class="resource-info">
                                <h4>محاضرات متقدمة</h4>
                                <p class="english-subtitle">Advanced Topics</p>
                            </div>
                            <a href="L3.pdf" target="_blank" class="btn secondary">المحاضرة 3 | Lecture 3</a>
                        </div>
                    </div>
                </div>

                <!-- Instructions & Guidelines -->
                <div class="card dashboard-card">
                    <div class="card-icon">ℹ️</div>
                    <h3>التعليمات والإرشادات</h3>
                    <p class="english-subtitle">Instructions & Guidelines</p>
                    <div id="instructionsList" class="resource-list">
                        <div class="resource-item">
                            <div class="resource-info">
                                <p>• يرجى قراءة التعليمات قبل بدء أي امتحان</p>
                                <p class="english-subtitle">• Please read instructions before starting any exam</p>
                                <p>• تأكد من اتصال الإنترنت المستقر</p>
                                <p class="english-subtitle">• Ensure stable internet connection</p>
                                <p>• للمساعدة، تواصل مع د. حسام: hussam05@gmail.com</p>
                                <p class="english-subtitle">• For help, contact Dr. Husam: hussam05@gmail.com</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- My Results -->
                <div class="card dashboard-card">
                    <div class="card-icon">📊</div>
                    <h3>نتائجي</h3>
                    <p class="english-subtitle">My Results</p>
                    <div id="resultsList" class="resource-list">
                        <button id="viewMyHistory" class="btn neutral">عرض تقاريري السابقة | View My Reports</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- QR Code Modal -->
        <div id="qrModal" class="history-modal hidden" aria-hidden="true" role="dialog">
            <div class="modal-content qr-modal-content">
                <button id="closeQR" class="modal-close" aria-label="إغلاق">×</button>
                <h3>رمز الدخول السريع QR</h3>
                <p class="english-subtitle">Quick Access QR Code</p>
                <div class="qr-container">
                    <div id="qrCode" class="qr-display"></div>
                    <div class="qr-info">
                        <p class="qr-instruction">📱 امسح هذا الرمز للدخول المباشر إلى لوحة التحكم الخاصة بك</p>
                        <p class="qr-instruction english-subtitle">Scan this code for direct access to your dashboard</p>
                        <div class="qr-details">
                            <p><strong>اسم الطالب | Student:</strong> <span id="qrStudentName"></span></p>
                            <p><strong>رقم الطالب | ID:</strong> <span id="qrStudentId"></span></p>
                        </div>
                        <button id="downloadQR" class="btn primary">
                            💾 تحميل رمز QR | Download QR Code
                        </button>
                        <p class="qr-note">💡 احتفظ بهذا الرمز في هاتفك للوصول السريع</p>
                        <p class="qr-note english-subtitle">Keep this code on your phone for quick access</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Exam Section -->
        <section id="examSection" class="section hidden">
            <div class="card exam-header">
                <div class="student-info">
                    <h3>أهلاً وسهلاً، <span id="candidateName"></span></h3>
                    <p class="english-subtitle">Welcome, <span id="candidateNameEn"></span></p>
                    <p class="student-id-display">رقم الطالب: <span id="candidateId"></span></p>
                </div>
                <div class="progress-info">
                    <div class="question-progress">
                        <span class="progress-label">السؤال:</span>
                        <span id="questionCounter" class="progress-value">1 / 29</span>
                        <span class="english-label">Question</span>
                    </div>
                    <div class="score-display">
                        <span class="progress-label">النتيجة:</span>
                        <span id="currentScore" class="progress-value">0 / 29</span>
                        <span class="english-label">Score</span>
                    </div>
                </div>
            </div>

            <div class="exam-toolkit">
                <div class="tool-card">
                    <h4>أدوات النجاح السريعة</h4>
                    <ul class="tool-list">
                        <li>اقرأ السؤال بتمعن وحدد الكلمات المفتاحية قبل اختيار الإجابة.</li>
                        <li>تأكد أن جميع الإجابات باللغة الإنجليزية كما في المحاضرات.</li>
                        <li>إذا كنت غير متأكد، استخدم زر «السؤال التالي» للعودة لاحقاً.</li>
                        <li>راقب تقدمك من خلال العداد والنتيجة المباشرة أعلى الصفحة.</li>
                    </ul>
                </div>
                <div class="tool-card english-card">
                    <h4 class="english-subtitle">Quick Exam Toolkit</h4>
                    <ul class="tool-list english-subtitle">
                        <li>Focus on the keywords inside each English question.</li>
                        <li>Answers remain in English to match Linux command syntax.</li>
                        <li>Use "Next Question" to revisit tough items without losing time.</li>
                        <li>Track live progress and score to manage your pacing.</li>
                    </ul>
                </div>
            </div>

            <div class="card question-card">
                <div class="question-header">
                    <h4 id="questionTitle">المحاضرة 1 • اختيار متعدد</h4>
                    <p id="questionTitleEn" class="english-subtitle">Lecture 1 • Multiple Choice</p>
                </div>
                <div class="question-content">
                    <div class="question-text">
                        <p id="questionPrompt">Loading question...</p>
                    </div>
                    <form id="responseForm" class="response-form">
                        <!-- Question options will be inserted here -->
                    </form>
                    <div id="resultFeedback" class="result-feedback" style="display: none;">
                        <!-- Result feedback will be shown here -->
                    </div>
                </div>
                <div class="question-actions">
                    <button id="submitResponse" class="btn primary">إرسال الإجابة | Submit Answer</button>
                    <button id="nextQuestion" class="btn secondary" style="display: none;">السؤال التالي | Next Question</button>
                </div>
            </div>
            <p id="questionInfo" class="question-info">اختر إجابتك واضغط إرسال لرؤية الإجابة الصحيحة والشرح</p>
            <p class="question-info english-subtitle">Select your answer and submit to see the correct answer and explanation</p>
        </section>

        <!-- Summary Section -->
        <section id="summarySection" class="section hidden">
            <div class="card">
                <h2>🎉 تم إنجاز الامتحان بنجاح!</h2>
                <h3 class="english-subtitle">Exam Complete!</h3>
                <div id="summaryIntro" class="summary-intro">
                    <p>مبروك! لقد أكملت امتحان أنظمة تشغيل لينكس بنجاح</p>
                    <p class="english-subtitle">Congratulations! You have successfully completed the Linux Operating System exam.</p>
                </div>
                <div class="summary-details">
                    <div class="summary-row">
                        <span class="label">اسم الطالب:</span>
                        <span class="label english-label">Student Name:</span>
                        <span id="summaryName" class="value"></span>
                    </div>
                    <div class="summary-row">
                        <span class="label">رقم الطالب:</span>
                        <span class="label english-label">Student ID:</span>
                        <span id="summaryId" class="value"></span>
                    </div>
                    <div class="summary-row">
                        <span class="label">وقت البداية:</span>
                        <span class="label english-label">Start Time:</span>
                        <span id="summaryStart" class="value"></span>
                    </div>
                    <div class="summary-row">
                        <span class="label">وقت الانتهاء:</span>
                        <span class="label english-label">End Time:</span>
                        <span id="summaryEnd" class="value"></span>
                    </div>
                    <div class="summary-row highlight">
                        <span class="label">النتيجة النهائية:</span>
                        <span class="label english-label">Final Score:</span>
                        <span id="summaryScore" class="value"></span>
                    </div>
                </div>
                <div class="summary-actions">
                    <button id="downloadReport" class="btn primary">تحميل التقرير | Download Report</button>
                    <button id="downloadPDF" class="btn secondary">تحميل PDF للدكتور | Download PDF for DR</button>
                    <button id="downloadSheet" class="btn neutral">تحميل ورقة الإجابات | Download Answer Sheet</button>
                    <button id="emailReport" class="btn tertiary">إرسال التقرير إلى د. حسام | Email Dr Husam</button>
                    <button id="viewHistory" class="btn outline">عرض تقاريري المحفوظة | View Saved Reports</button>
                </div>
                <div class="submission-note">
                    <p class="note-text">💡 يرجى تحميل التقرير وإرساله للدكتور حسام صالح مهدي عبر البريد الإلكتروني (hussam05@gmail.com)</p>
                    <p class="note-text english-subtitle">Please download the report and submit to Dr. Husam Salah Mahdi via email (hussam05@gmail.com)</p>
                </div>
                <div class="submission-note soft">
                    <p class="note-text">📁 يتم حفظ نسخة احتياطية من التقرير في هذا الجهاز وعلى GitHub لتستطيع مراجعته لاحقاً.</p>
                    <p class="note-text english-subtitle">A backup copy of your report stays on this device and GitHub so you can review it later.</p>
                </div>
            </div>
        </section>
        
        <div id="savedReportsModal" class="history-modal hidden" aria-hidden="true" role="dialog" aria-labelledby="savedReportsTitle">
            <div class="modal-content">
                <button id="closeSavedReports" class="modal-close" aria-label="إغلاق">×</button>
                <h3 id="savedReportsTitle">🗂️ سجلات الامتحانات المحفوظة</h3>
                <p class="english-subtitle">Saved Exam History</p>
                <div id="savedReportsList" class="saved-reports-list"></div>
            </div>
        </div>
    </main>

    <footer>
        <p>&copy; 2024 جامعة المصطفى - هندسة تقنيات الأمن السيبراني. جميع الحقوق محفوظة.</p>
        <p class="english-subtitle">&copy; 2024 Almustafa University - Cybersecurity Engineering Technology. All rights reserved.</p>
    </footer>

    <!-- QR Code Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js?v=2.7"></script>
    <script src="assets/js/platform-config.js?v=2.7"></script>
    <script src="assets/js/questions.js?v=2.7"></script>
    <script src="assets/js/doctor-monitor.js?v=2.7"></script>
    <script src="assets/js/app.js?v=2.7"></script>
</body>
</html>
</html>